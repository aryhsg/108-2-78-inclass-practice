---
title: '410779095'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

```{install.packages(c("googlesheets4","tidyverse"))}
```

```{a =2}
```

b =3
```{r}
a=2
b=3

```
```{r}
`幹`=78 # 特殊字詞可用頓點包起來


```
# ```{r}
`我的年紀`= 19
`我的年紀`->my_age
```
```{r}
# vNum1 <- c(-1,5)
# vNum2 <- c(2,3)
# vNum3 <- c(vNum1,vNum2)
# vNum4 <- c(-1,5,2,3)
# vNum5 <- c(c(-1,5),c(2,3))
```
```{r}
vNum1 <- c(-1,5) 
vNum2 <- c(2,3)
vNum4 <- c() # 空向量
```
```{r}
vNum3 <- c(vNum2, vNum1)
vNum4 <- c(vNum4, vNum1) # 向量疊代 （recursive vector concatenate）會一直疊上去
```
```{r}
library(googlesheets4)
`出席狀況表單網址` <-   # 缺乏定義值
ss <- as_sheets_id(`出席狀況表單網址`)
homework_sheet <- sheets_read(ss,sheet=1)
```


```{r}
num1<-5 # 非整數
num2<-5L # 整數

num1Vector<-c(5,6,7)
num2Vector<-c(5L,6L,7L)
class(num)
class(int)
class(char)
class(logi)
```

```{r}

browseURL("https://docs.google.com/spreadsheets/d/1EAG49qDKPWWi0ebkVr29TLrvVnoBPfkvxYY-J3xLAHY/edit#gid=458686645")
```
```{r}
library(lubridate)
```


```{r}
`我的年紀`<- 20
my_age-> `我的年紀`
```
a <- 15 # 變數設定
b <- a # 呼叫a的值，用來設定變數b的值，相當於 b <- 15
```{r}
number= 20
class(number)
typeof(number)
```

```{r}
# 10位學生的主系
majors10_char <- c('經濟學系','社會學系','社會學系','經濟學系','經濟學系','社會學系','經濟學系','經濟學系','經濟學系','社會學系')

typeof(majors10_char)
class(majors10_char)
```
majors10_factor <- factor(majors10_char)
# 或
majors10_factor <- factor(
  c('經濟學系','社會學系','社會學系','經濟學系','經濟學系','社會學系','經濟學系','經濟學系','經濟學系','社會學系')
)

typeof(majors10_factor)
class(majors10_factor)

majors10_char
majors10_factor



```{r}
listeample <- li
```{r}
 # 用vector儲存
c("2020/03/21T13:40:55Z","一方","2","水果茶")
 # 用list儲存
library(lubridate)
list("2020/03/21T13:40:55Z","一方","2",'水果茶') #date/time #charater #numertic #charater
```
```{r}
library(lubridate)
`小明交易1` <- list(
  ymd_hms("2020-03-31T13:40:55Z"), # Date/Time class
  "一芳", # character
  2, # numeric
  "水果茶" # character
)
print(`小明交易1`)
```

```{r}
# list含兩個vectors
`小明108學年課表A` <- list(
  c("108-1","高級會計學","高等統計學"),
  c("108-2","食在拉丁美洲")
)
print(`小明108學年課表A`)
```

```{r}
# list含兩個lists
'小明108學年課表B' <- list(
  list("108-1","高級會計學","高等統計學"),
  list("108-2","食在拉丁美洲")
)

print('小明108學年課表B')
```

```{r}
# list含兩個lists, 子層list又各含兩個vectors
'小明108學年課表C' <- list(list(c("108-1"), c("高級會計學","高等統計學")# 可只寫 "108-1
       ),
  list(
    c("108-2"),
    c("食在拉丁美洲")
  )
)
print('小明108學年課表C')
```

```{r}
# list含兩個lists, 子層list又各含兩個vectors
"小明108學年課表D" <- list(
  '108學年第1學期'=list(
    semester=c("108-1"), # 可只寫 "108-1"
    course=c("高級會計學","高等統計學")
       ),
  '108學年第2學期'=list(
    semester=c("108-2"),
    course=c("食在拉丁美洲")
  )
)
print("小明108學年課表D")
```

```{r}

commit <- list (
  list(name='Martin老師',
       email='mtlin@gm.ntpu.edu.tw',
       datetime=ymd_hms('2020-03-25T07:17:40Z'))
list(name='emilyluckey',
     email='emily007@gmail.com',
     datetime=ymd_hms('2020-03-26T08:18:40Z')))
  
```

```{r}
'小明'=list(
course1 = list(name='alice',course=c('個體經濟學'),score=c(85),name='mark',course=c('總體經濟學'),score=c(73)),
course2 = list(name='jason',course=c('作業研究'),score=c(90))
)
  

```


```{r}
'天氣預報' <-list(
  '台北市' = list(
    date = c(
      today = "2020-03-31", 
      tomorrow = "2020-04-01"
    ), 
    highest = 25, 
    lowest = 18
  ), 
  '新北市' = list(
    date = c(
      today = "2020-03-31", 
      tomorrow = "2020-04-01"
    ), 
    higest = 24, 
    lowest = 15
  )
)
print('天氣預報')
```
```{r}
list(
  '20200331' =list(
  '台北市',high=25,low=18,'新北市',high=24,low=15
  ),
  '20200401' =list(
  '台北市',high=25,low=18,'新北市',high=24,low=15
  )
)


```

```{r}
vectorExample <- c("小明","小英","大雄")

# 有多少位置可選：
length(vectorExample)
```
```{r}
vectorExample[[1]]
vectorExample[[3]]
#選取特定位置
```
```{r}
listExample <- 
  list(
    student="小明",
    `學期`=list(
      `108-1`=list(
        list(
          name="個體經濟學",
          teacher="Alice",
          grade=85
        )
      ),
      `108-2`=list(
        list(
          name="總體經濟學",
          teacher="Mark",
          grade=78
        )
      )
    )
  )
# 有多少位置可選：
length(listExample)

```
```{r}
listExample[[1]]
listExample[[2]]
```
```{r}
library(jsonlite)
fromJSON("https://data.tainan.gov.tw/dataset/4cd9345a-04bf-4328-a97d-314ff78b4763/resource/afc025fc-1ef4-447c-b785-a680391d0ca1/download/tnsport2.json", simplifyDataFrame = F) -> tainanSportsMap
```
```{r}
tainanSportsMap[[1]]
tainanSportsMap[[230]]

```
```{r}
# 有多少名字可選：
names(listExample)
```
```{r}
listExample$student
listExample$`學期` # 特殊命名依然要用反頓點呼叫
```

```{r}
str(listExample$學期)
```

```{r}
listExample[["student"]] #兩種方法叫出特定位置
listExample$student

listExample[["學期"]] # 小心不是反頓點喔。
listExample$`學期`
```
```{r}
fromJSON("http://data.ntpc.gov.tw/api/v1/rest/datastore/382000000A-000157-002",
         simplifyDataFrame = F) -> newTaipeiCityVaccine
```
```{r}
length(newTaipeiCityVaccine)
str(newTaipeiCityVaccine$success)                 #三種叫出特定位置的方法
str(newTaipeiCityVaccine[[1]])
str(newTaipeiCityVaccine[["success"]])
```
```{r}
vectorExample
vectorExample[c(1,3)]
vectorExample[c(3,2,1)] # 產生重新排列效果
```
```{r}
# 顯示到第一層
str(listExample, max.level=1)

listExample[c("學期")]
listExample[c("student","學期")]
```

```{r}
fromJSON("https://www.dropbox.com/s/qnm9bnz7vccrvcz/taipeiNightMarkets.json?dl=1", simplifyDataFrame = F) -> taipeiNightMarkets
```
```{r}
taipeiNightMarkets[c(1,2,3)]
```

```{R}
str(taipeiNightMarkets,max.level = 1)
taipeiNightMarkets[c(T,F,F,F,T,F,F,F,F,T,F,F,F,T)]
```
```{r}
str(listExample)

```
```{r}
get1<- listExample[["學期"]]
str(get1)
get1 # 學期拿出來，有3個元素的list
```
```{R}
get2<- listExample["學期"]
str(get2)
get2 # listExample 只留下 學期元素，是個只有一個元素的list
```

```{r}
numVector <- c(2,3,6,-1,4,2,6)
select1 <- numVector[c(1,4)]; select1
select2 <- select1[[1]]; select2

# 相當於
numVector[c(1,4)][[1]] #兩步驟結合成一步驟

select1 <- numVector[c(T,T,F,T,F,F,T)]; select1
select2 <- select1[c(1,4)]; select2

# 相當於
numVector[c(T,T,F,T,F,F,T)][c(1,4)]
```
創造出只要“經濟學系”學生的邏輯向量，econOnly。
選出econOnly的names與gender。
在econOnly的gender下創造出只要“F”的邏輯向量, econFemaleOnly。
選出names中為“經濟學系”且“F”的姓名。
```{r}
majors <- c("經濟學系","經濟學系","社會學系","社工系","經濟學系")
names <- c("小英", "小美", "大雄","阿華", "阿尼")
gender <- c("F","F","M","F","M")

econ0nly<- list(majors[c(1,2,5)],names[c(1,2,5)],gender[c(1,2,5)])
econFemaleOnly<- gender[c(1,2)]
```












